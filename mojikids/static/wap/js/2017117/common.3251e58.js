;/*!wap-kids:global/app/index*/
define("wap-kids:global/app/index",function(n,o,c){"use strict";var l=n.syncLoad("wap-kids:global/util/index"),i=l.ua,t=window.PocoWebViewJavascriptBridge,e="undefined"!=typeof t;e=i.is_yue_app?!0:i.is_yue_seller?!0:window.SUPE_APP&&window.SUPE_APP.isApp?!0:!1;var a="poco.yuepai.";e&&(t.init(),window.pocoAppEventTrigger=function(){return pocoAppEventTrigger.apply(pocoAppEventTrigger,arguments)});var u={isPaiApp:e,chat:function(n){t.callHandler(a+"function.chat",n,function(){"function"==typeof n.callback&&n.callback.call(this)})},qrcodescan:function(){return alert("Error:methods is undefined"),!0},check_login:function(n){t.callHandler(a+"info.login",{},function(o,c){n.call(this,o,c)})},login:function(n){var n=n||{};t.callHandler(a+"function.login",{pocoid:n.pocoid,username:n.username,icon:n.icon,token:n.token,token_expirein:n.token_expirein},function(){})},waplogin:function(n){var n=n||{};console.log("APP waplogin"),t.callHandler(a+"function.waplogin",n,function(n){console.log("======支付宝支付回调参数======"),console.log(n)})},logout:function(){console.log("APP logout"),t.callHandler(a+"function.logout",{},function(){})},get_chat_info:function(n){t.callHandler(a+"info.chat",{},function(o){"function"==typeof n&&n.call(this,o)})},get_login_info:function(n){t.callHandler(a+"info.login",{},function(o){"function"==typeof n&&n.call(this,o)})},alipay:function(n,o){return n?(console.log(n),void t.callHandler(a+"function.alipay",n,function(n){console.log("======支付宝支付回调参数======"),console.log(n),"function"==typeof o&&o.call(this,n)})):void alert("no params")},wxpay:function(n,o){return n?(console.log(n),void t.callHandler(a+"function.wxpay",n,function(n){console.log("======微信支付回调参数======"),console.log(n),"function"==typeof o&&o.call(this,n)})):void alert("no params")},unionpay:function(n,o){return n?(console.log(n),void t.callHandler(a+"function.unionpay",n,function(n){console.log("======银联支付回调参数======"),console.log(n),"function"==typeof o&&o.call(this,n)})):void alert("no params")},upload_img:function(n,o,c){console.log("upload img");var i="",e=o.photosize||640,u="wifi"==window.APP_NET_STATUS?"-wifi":"";console.log("net status:"+window.APP_NET_STATUS);var r="http://sendmedia-w"+u+".yueus.com:8078/",s="http://sendmedia-w"+u+".yueus.com:8079/";if(!o)return void alert("no params");if(!n)return void alert("no type");var f="",p="";switch(n){case"header_icon":i=r+"icon.cgi",f="modify_headicon",p="camera_album";break;case"single_img":i=s+"upload.cgi",p="camera_album";break;case"modify_cardcover":i=s+"upload.cgi",f="modify_cardcover",p="camera_album";break;case"multi_img":i=s+"upload.cgi",p="camera_album"}o=l.extend(o,{url:i,photosize:e,operation:f,src_opts:p}),console.log("-----upload img params-----"),console.log(o),t.callHandler(a+"function.uploadpic",o,function(n){c.call(this,n)})},show_chat_list:function(){return alert("Error:methods is undefined"),!0},debug:function(){return alert("Error:methods is undefined"),!0},show_alumn_imgs:function(n){var n=n||{};t.callHandler(a+"function.show_album_imgs",n,function(){})},get_netstatus:function(n){t.callHandler(a+"info.netstatus",{},function(o){console.log("===========调用 App 获取网络状态==========="),console.log(o),"function"==typeof n&&n.call(this,o)})},sso_login:function(n,o){t.callHandler(a+"function.bind_account",n,function(n){"function"==typeof o&&o.call(this,n)})},call_phone:function(n,o){t.callHandler(a+"function.callphone",n,function(n){"function"==typeof o&&o.call(this,n)})},get_gps:function(){return alert("Error:methods is undefined"),!0},set_setting:function(){return alert("Error:methods is undefined"),!0},get_setting:function(){return alert("Error:methods is undefined"),!0},clear_cache:function(){t.callHandler(a+"function.clearcache",{},function(){})},show_bottom_bar:function(){return alert("Error:methods is undefined"),!0},check_update:function(){return alert("Error:methods is undefined"),!0},app_back:function(){console.log("调用 App Back Function"),window.AppCanPageBack=!0,t.callHandler(a+"function.back",{},function(){})},app_info:function(n){console.log("App app-info"),t.callHandler(a+"info.app",{},function(o){console.log(o),"function"==typeof n&&n.call(this,o)})},switchtopage:function(n,o){console.log("App switchtopage"),t.callHandler(a+"function.switchtopage",n,function(n){console.log(n),"function"==typeof o&&o.call(this,n)})},share_card:function(n,o){var c=n||{};console.log("share_card请求前参数："),console.log(c),t.callHandler(a+"function.sharecard",{url:c.url,pic:c.pic||c.img,img:c.pic||c.img,content:c.content,title:c.title,sinacontent:c.sinacontent,sina_conent:c.sina_conent,userid:c.userid,qrcodeurl:c.qrcodeurl,jscbfunc:c.jscbfunc||function(){},sourceid:c.sourceid||0},function(n){console.log("share_card回调："),console.log(n),"function"==typeof o&&o.call(this,n)})},analysis:function(){return alert("Error:methods is undefined"),!0},nav_to_app_page:function(){alert("Error:methods is undefined")},openlink:function(n){return console.log("App openlink"),n?void t.callHandler(a+"function.openlink",{url:n},function(n){console.log("openlink 回调数据:"+n),"function"==typeof callback&&callback.call(this,n)}):void alert("请传入合法url")},openttpayfinish:function(n){console.log("App ttpayfinish"),t.callHandler(a+"function.ttpayfinish",{},function(o){console.log(o),"function"==typeof n&&n.call(this,o)})},close_webview:function(n){console.log("App close_webview"),t.callHandler(a+"function.close",{},function(o){console.log(o),"function"==typeof n&&n.call(this,o)})},show_selectcity:function(n,o){console.log("App selectcity"),t.callHandler(a+"function.selectcity",n,function(n){console.log(n),"function"==typeof o&&o.call(this,n)})},qrcodeshow:function(n,o,c){console.log("App qrcodeshow"),o=o||0,t.callHandler(a+"function.qrcodeshow",{qrcodes:n,index:o},function(n){console.log(n),"function"==typeof c&&c.call(this,n)})},showtopmenu:function(n,o,c){console.log("App showtopbar"),o=o||{},o.type=n?2:1,o.show_bar&&(o.type=0),t.callHandler(a+"function.showtopbar",o,function(n){console.log(n),"function"==typeof c&&c.call(this,n)})},payfinish:function(n,o){n=n||{},t.callHandler(a+"function.payfinish",n,function(n){console.log(n),"function"==typeof o&&o.call(this,n)})},open_paypage:function(n,o){n=n||{},console.log("==== open_paypage options ===="),console.log(n),t.callHandler(a+"function.pay",n,function(n){console.log(n),"function"==typeof o&&o.call(this,n)})}};c.exports=u});
;/*!wap-kids:global/util/index*/
define("wap-kids:global/util/index",function(e,t,n){"use strict";function i(e,t){var n="";t=t||"",n=-1!=$.inArray(t,[120,320,165,640,600,145,440,230,260])?"_"+t:"";var i=/^http:\/\/(img|image)\d*(-c|-wap|-d)?(.poco.cn.*|.yueus.com.*)\.jpg|gif|png|bmp/i,o=/_(32|64|86|100|145|165|260|320|440|468|640).(jpg|png|jpeg|gif|bmp)/i;return i.test(e)&&(e=o.test(e)?e.replace(o,n+".$2"):e.replace("/(.d*).jpg|.jpg|.gif|.png|.bmp/i",n+".jpg")),e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=window.__ajax__||$.ajax,r=window.localStorage,s=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},c=function(e,t){if(!e||!t)return!1;if(-1!=t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},d=function(e,t){if(e){for(var n=e.className,i=(t||"").split(" "),o=0,a=i.length;a>o;o++){var r=i[o];r&&(e.classList?e.classList.add(r):c(e,r)||(n+=" "+r))}e.classList||(e.className=n)}},u=function(e,t){if(e&&t){for(var n=t.split(" "),i=" "+e.className+" ",o=0,a=n.length;a>o;o++){var r=n[o];r&&(e.classList?e.classList.remove(r):c(e,r)&&(i=i.replace(" "+r+" "," ")))}e.classList||(e.className=s(i))}},p=function(){return document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)}}(),l=function(){return document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}}(),f=function(e,t,n){var i=function o(){n&&n.apply(this,arguments),l(e,t,o)};p(e,t,i)},m=function(){function e(e){return encodeURIComponent(e)}function t(e){return decodeURIComponent(e.replace(/\+/g," "))}function n(e){return"string"==typeof e&&""!==e}var i=window.document,o=864e5;return function(){var a={get:function(e,o){o=o||{};var a,r;return n(e)&&(r=String(i.cookie).match(new RegExp("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)")))&&r[1]&&(a=o.decode?t(r[1]):r[1]),a},set:function(t,a,r){r=r||{};var s=String(r.encode?e(a):a),c=r.expires,d=r.domain||yue_domain,u=r.path||yue_path,p=r.secure;return"number"==typeof c&&(c=new Date,c.setTime(c.getTime()+r.expires*o)),c instanceof Date&&(s+="; expires="+c.toUTCString()),n(d)&&(s+="; domain="+d),n(u)&&(s+="; path="+u),p&&(s+="; secure"),i.cookie=t+"="+s,s},del:function(e,t){return this.set(e,"",{expires:-1,domain:t.domain||yue_domain,path:t.path||yue_path,secure:t.secure})}};return a}},g={prefix:"mojikids-app-",set:function(e,t){try{return r&&"undefined"!=typeof r?"undefined"==typeof t?r.remove(e):(r.setItem("mojikids-app-"+e,JSON.stringify(t)),t):!1}catch(n){return console.warn(n),!1}},get:function(e){try{var t=r.getItem("mojikids-app-"+e);return t?JSON.parse(t):t}catch(n){return console.warn(n),!1}},remove:function(e){return r.removeItem("mojikids-app-"+e)}},y=function(e){{var e=e||{},t=e.url,n=e.data||{},i=e.cache||!1,o=e.beforeSend||function(){},r=e.success||function(){},s=e.error||function(){},c=(e.complete||function(){},e.type||"GET"),d=e.dataType||"json",u=null==e.async?!0:!1;e.headers||{},e.timeout||1e4}i||(n._=(new Date).getTime()),console.info("ajax request params:",n);var p=a({url:t,type:c,data:n,cache:i,async:u,dataType:d,beforeSend:function(e,n){console.log("%c请求前，请求路径是:"+t,"color:#66ccff"),o(e,n)},success:function(e,n){console.log("%c请求成功，请求路径是:"+t,"color:#00dd00"),r(e,n)},error:function(e,n,i){console.log("%c请求失败，请求路径是:"+t,"color:#ff5544"),s(e,n,i)},complete:e.complete});return p},v=function(){var e={},t=window,n=t.navigator,i=n.appVersion;if(e.isMobile=/(iphone|ipod|android|ios|ipad|nokia|blackberry|tablet|symbian)/.test(n.userAgent.toLowerCase()),e.isAndroid=/android/gi.test(i),e.isIDevice=/iphone|ipad/gi.test(i),e.isTouchPad=/hp-tablet/gi.test(i),e.isIpad=/ipad/gi.test(i),e.otherPhone=!(e.isAndroid||e.isIDevice),e.is_uc=/uc/gi.test(i),e.is_chrome=/CriOS/gi.test(i)||/Chrome/gi.test(i),e.is_qq=/QQBrowser/gi.test(i),e.is_real_safari=/safari/gi.test(i)&&!e.is_chrome&&!e.is_qq,e.is_standalone=window.navigator.standalone?!0:!1,e.isAndroid){var o=parseFloat(i.slice(i.indexOf("Android")+8));e.android_version=o}else if(e.isIDevice){var a=i.match(/OS (\d+)_(\d+)_?(\d+)?/),r=!1;if(a){var r=a[1];a[2]&&(r+="."+a[2]),a[3]&&(r+="."+a[3])}else r=!1;e.ios_version=r}return e.is_iphone_safari_no_fullscreen=e.isIDevice&&e.ios_version<"7"&&!e.isIpad&&e.is_real_safari&&!e.is_standalone,e.is_yue_app=/yue_pai/.test(i),e.is_yue_seller=/yueseller/.test(i),e.is_weixin=/MicroMessenger/gi.test(i),e.is_normal_wap=!e.is_yue_app&&!e.is_weixin,e},_=function(e,t,n){e=e||{};var i,a="undefined"==typeof t?"undefined":o(t),r=1;for(("undefined"===a||"boolean"===a)&&(n="boolean"===a?t:!1,t=e,e=this),"object"!==("undefined"==typeof t?"undefined":o(t))&&"[object Function]"!==Object.prototype.toString.call(t)&&(t={});2>=r;){if(i=1===r?e:t,null!=i)for(var s in i){var c=e[s],d=i[s];e!==d&&(n&&d&&"object"===("undefined"==typeof d?"undefined":o(d))&&!d.nodeType?e[s]=this.extend(c||(null!=d.length?[]:{}),d,n):void 0!==d&&(e[s]=d))}r++}return e},w=function(e){e=e||{};var t=v();if(t.is_weixin){if(!wx)return void alert("wx object is undefined");e.wx_prams=e.wx_prams||{};var n={latitude:0,longitude:0,name:"",address:"",scale:20,infoUrl:""},i=_(n,e.wx_prams);return wx.openLocation(i),{type:"wx"}}var o=e.gaode_params||{},a="";if(!o.longitude||!o.latitude)return void alert("longitude or latitude is error");"function"==typeof o.before_init&&o.before_init.call(this);var r={resizeEnable:!0,center:[o.longitude,o.latitude],zoom:18},i=_(r,o);if(!a){var s=document.getElementsByTagName("head")[0],c=document.createElement("script");return c.type="text/javascript",c.src="http://webapi.amap.com/maps?v=1.3&key=355b76e40579761f854c58b9a597443b",s.appendChild(c),c.onload=function(){a=new AMap.Map(o.el,i),new AMap.Marker({map:a})},{type:"gaode"}}},h=e.syncLoad("wap-kids:widget/toast/index"),b=e.syncLoad("wap-kids:widget/dialog/index"),x=e.syncLoad("wap-kids:widget/loading/index");window.Vue&&(Vue.$toast=Vue.prototype.$toast=h,Vue.$dialog=Vue.prototype.$dialog=b,Vue.$loading=Vue.prototype.$loading=x),n.exports={on:p,off:l,once:f,hasClass:c,addClass:d,removeClass:u,cookie:m,storage:g,request:y,ua:v(),matching_img_size:i,toast:Vue.$toast,dialog:Vue.$dialog,loading:Vue.$loading,extend:_,open_location:w}});
;/*!wap-kids:global/wxsdk/index*/
define("wap-kids:global/wxsdk/index",function(n,o,c){"use strict";var e=n.syncLoad("wap-kids:global/util/index"),s={version:"default"};s.isWeiXin=function(){return/MicroMessenger/i.test(navigator.userAgent)},s.chooseImage=function(n){wx.chooseImage({count:n.count,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(o){n.success&&"function"==typeof n.success&&n.success(o)},cancel:function(o){n.cancel&&"function"==typeof n.cancel&&n.cancel(o)},fail:function(o){n.fail&&"function"==typeof n.fail&&n.fail(o)}})},s.upload_imgs=function(n){function o(n){wx.uploadImage({localId:n.localId[c],isShowProgressTips:s,success:function(s){var t={localId:n.localId[c],media_id:s.serverId};i.push(t),n.success_single&&"function"==typeof n.success_single&&n.success_single(s,c,e),c++,c>=n.localId.length?n.success_all&&"function"==typeof n.success_all&&n.success_all(i,c,e):o(n)},cancel:function(o){n.cancel_single&&"function"==typeof n.cancel_single&&n.cancel_single(o,c,e)},fail:function(o){n.fail_single&&"function"==typeof n.fail_single&&n.fail_single(o,c,e)}})}var c=0,e=n.localId.length,s=n.isShowProgressTips||1;o(n);var i=[]},s.downloadImage=function(n){if(!n.media_id)throw"serverId/media_Id error!";wx.downloadImage({serverId:n.media_id,isShowProgressTips:n.isShowProgressTips||1,success:function(o){o.localId;n.success&&"function"==typeof n.success&&n.success(o)},cancel:function(o){n.cancel&&"function"==typeof n.cancel&&n.cancel(o)},fail:function(o){n.fail&&"function"==typeof n.fail&&n.fail(o)}})},s.chooseImages_and_uploadImages_and_downloadImages=function(n){var o=n.upload_type||"pics",c=n.$el||$("body"),i=n.choose_trigger_str||"chooseImages",t=parseInt(n.choose_count)||9,l=n.choose_success||function(){},u=n.choose_cancel||function(){},a=n.choose_fail||function(){},f=n.choose_success_change_count||t,r=n.upload_trigger_str||"uploadImages",g=n.upload_success||function(){},_=n.upload_cancel||function(){},p=n.upload_fail||function(){},d=n.upload_success_all||function(){},h=n.get_trigger_str||"getImagesUrl",m=n.get_imgUrl_beforeSend||function(){},y=n.get_imgUrl_success||function(){},I=n.get_imgUrl_error||function(){},w=n.get_imgUrl_complete||function(){},v=option.platform||"",x=[],S=[];return c.on(i,function(){var n=[];wx.chooseImage({count:t,success:function(o){n=o.localIds,console.log(o),x=n,l&&"function"==typeof l&&l(o),f&&"function"==typeof f&&(t=f.call(this,o))},cancel:function(n){u&&"function"==typeof u&&u(n)},fail:function(n){a&&"function"==typeof a&&a(n)}})}),c.on(r,function(){0!=x.length&&s.upload_imgs({localId:x,success_single:function(n,o){n.serverId;g&&"function"==typeof g&&g(n,o,x.length)},cancel_single:function(n,o){_&&"function"==typeof _&&_(n,o,x.length)},fail_single:function(n,o){p&&"function"==typeof p&&p(n,o,x.length)},success_all:function(n,o){S=n,console.log("mdeia_list"),console.log(S),d&&"function"==typeof d&&d(n,o,x.length)}})}),c.on(h,function(){0!=S.length&&e.request({url:window.__MOJIKIDS_GLOBAL.AJAX_DOMAIN+"upload/wx_image.php",data:{obj_list:S,upload_type:o,platform:v},dataType:"JSONP",type:"POST",cache:!1,beforeSend:function(){m&&"function"==typeof m&&m()},success:function(n){y&&"function"==typeof y&&y(n)},error:function(n){I&&"function"==typeof I&&I(n)},complete:function(){w&&"function"==typeof w&&w()}})}),this.set_choose_count=function(n){t=n},this},c.exports=s});