define('wap-kids:widget/area/area', function(require, exports, module) {

  "use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _index=require("wap-kids:widget/picker/index"),_index2=_interopRequireDefault(_index),_index3=require("wap-kids:widget/popup/index"),_index4=_interopRequireDefault(_index3),Util=require.syncLoad("wap-kids:global/util/index"),global_location_data={};exports.default={name:"moji-area",props:{show:{type:Boolean,"default":!1},locationId:{type:String,"default":"101029001"},title:{type:String,"default":""}},mounted:function(){var e=this;e.get_location_data()},data:function(){return{visible:!1,slots:[{flex:1,values:[],defaultIndex:7,className:"slot1",textAlign:"center"},{divider:!0,content:"-",className:"slot2"},{flex:1,values:[],className:"slot3",textAlign:"center"}],city_obj:{},cur_province_id:"",cur_province_name:"",cur_city_id:"",cur_city_name:""}},components:{"mt-picker":_index2.default,"mt-popup":_index4.default},computed:{},methods:{open:function(){var e=this;e.$data.visible=!0},confirm:function(){var e=this,t=e.$data.city_obj[e.$data.city]||"",a=e.$data.province,i=e.$data.city;e.$data.visible=!1,e.$emit("confirm",{location_id:t,province_name:a,city_name:i})},address_change:function(e,t){var a=this;e.setSlotValues(1,global_location_data[t[0]]),a.$data.province=t[0],a.$data.city=t[1],a.$data.city_obj[a.$data.city]&&(a.$data.location_id=a.$data.city_obj[a.$data.city])},get_location_data:function(){var e=this;Util.request({url:"http://yp.yueus.com/action/get_location_data_v2.php?callback=?",dataType:"JSONP",timeout:1e4,cache:!0,beforeSend:function(){},success:function(t){for(var a=JSON.parse(t.data.province),i=JSON.parse(t.data.city),o={},n={},c=0;c<a.length;c++){for(var l=a[c].location_id,r=a[c].location_name,s=[],d=0;d<i.length;d++){var u=i[d].parent_id;u==l&&s.push(i[d].location_name),o[i[d].location_name]=i[d].location_id,e.locationId==i[d].location_id&&e.locationId.slice(0,6)==l&&(e.cur_province_id=l,e.cur_province_name=r,console.log(i[d].location_name),e.cur_city_id=i[d].location_id,e.cur_city_name=i[d].location_name)}n[r]=s}console.log(n),global_location_data=n,e.$data.slots[0].values=Object.keys(n),e.$data.city_obj=o,setTimeout(function(){e.$refs.picker.setSlotValue(0,e.cur_province_name),e.$refs.picker.setSlotValue(1,e.cur_city_name)},500)}})}}},function(e){module&&module.exports&&(module.exports.template=e),exports&&exports.default&&(exports.default.template=e)}('<mt-popup v-model="visible" position="bottom" class="moji-area">\n  <mt-picker :slots="slots" @change="address_change" class="mint-area-picker" ref="picker" show-toolbar="">\n    <span class="moji-area-action moji-area-cancel" @click="visible = false">取消</span>\n    <span class="moji-area-action moji-area-confirm" @click="confirm">确认</span>\n  </mt-picker>\n</mt-popup>');

});
