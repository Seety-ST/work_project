;/*!wap-kids:widget/picker/draggable*/
define("wap-kids:widget/picker/draggable",function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var u=function(e){t.drag&&t.drag(o?e.changedTouches[0]||e.touches[0]:e)},d=function c(e){o||(document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",c)),document.onselectstart=null,document.ondragstart=null,n=!1,t.end&&t.end(o?e.changedTouches[0]||e.touches[0]:e)};e.addEventListener(o?"touchstart":"mousedown",function(e){n||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},o||(document.addEventListener("mousemove",u),document.addEventListener("mouseup",d)),n=!0,t.start&&(e.preventDefault(),t.start(o?e.changedTouches[0]||e.touches[0]:e)))}),o&&(e.addEventListener("touchmove",u),e.addEventListener("touchend",d),e.addEventListener("touchcancel",d))};var n=!1,o="ontouchstart"in window});
;/*!wap-kids:widget/picker/emitter*/
define("wap-kids:widget/picker/emitter",function(t,e){"use strict";function n(t,e,o){this.$children.forEach(function(c){var i=c.$options.componentName;i===t?c.$emit.apply(c,[e].concat(o)):n.apply(c,[t,e].concat(o))})}Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{dispatch:function(t,e,n){for(var o=this.$parent,c=o.$options.componentName;o&&(!c||c!==t);)o=o.$parent,o&&(c=o.$options.componentName);o&&o.$emit.apply(o,[e].concat(n))},broadcast:function(t,e,o){n.call(this,t,e,o)}}}});
;/*!wap-kids:widget/picker/translate*/
define("wap-kids:widget/picker/translate",function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=document.documentElement.style,l=!1;window.opera&&"[object Opera]"===Object.prototype.toString.call(opera)?n="presto":"MozAppearance"in r?n="gecko":"WebkitAppearance"in r?n="webkit":"string"==typeof navigator.cpuClass&&(n="trident");var a={trident:"-ms-",gecko:"-moz-",webkit:"-webkit-",presto:"-o-"}[n],s={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[n],o=document.createElement("div"),i=s+"Perspective",p=s+"Transform",d=a+"transform",u=s+"Transition",c=a+"transition",f=s.toLowerCase()+"TransitionEnd";void 0!==o.style[i]&&(l=!0);var y=function(t){var e={left:0,top:0};if(null===t||null===t.style)return e;var n=t.style[p],r=/translate\(\s*(-?\d+(\.?\d+?)?)px,\s*(-?\d+(\.\d+)?)px\)\s*translateZ\(0px\)/g.exec(n);return r&&(e.left=+r[1],e.top=+r[3]),e},m=function(t,e,n){if((null!==e||null!==n)&&null!==t&&void 0!==t&&null!==t.style&&(t.style[p]||0!==e||0!==n)){if(null===e||null===n){var r=y(t);null===e&&(e=r.left),null===n&&(n=r.top)}x(t),t.style[p]+=l?" translate("+(e?e+"px":"0px")+","+(n?n+"px":"0px")+") translateZ(0px)":" translate("+(e?e+"px":"0px")+","+(n?n+"px":"0px")+")"}},x=function(t){if(null!==t&&null!==t.style){var e=t.style[p];e&&(e=e.replace(/translate\(\s*(-?\d+(\.?\d+?)?)px,\s*(-?\d+(\.\d+)?)px\)\s*translateZ\(0px\)/g,""),t.style[p]=e)}};e.default={transformProperty:p,transformStyleName:d,transitionProperty:u,transitionStyleName:c,transitionEndProperty:f,getElementTranslate:y,translateElement:m,cancelTranslateElement:x}});
;/*!wap-kids:widget/picker/picker-slot*/
define('wap-kids:widget/picker/picker-slot', function(require, exports, module) {

  "use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var _draggable=require("wap-kids:widget/picker/draggable"),_draggable2=_interopRequireDefault(_draggable),_translate=require("wap-kids:widget/picker/translate"),_translate2=_interopRequireDefault(_translate),_index=require("wap-kids:global/util/index"),_emitter=require("wap-kids:widget/picker/emitter"),_emitter2=_interopRequireDefault(_emitter);!function(t){for(var e=0,a=["webkit","moz"],n=t.requestAnimationFrame,i=t.cancelAnimationFrame,r=a.length;--r>=0&&!n;)n=t[a[r]+"RequestAnimationFrame"],i=t[a[r]+"CancelAnimationFrame"];n&&i||(n=function(t){var a=+new Date,n=Math.max(e+16,a);return setTimeout(function(){t(e=n)},n-a)},i=clearTimeout),t.requestAnimationFrame=n,t.cancelAnimationFrame=i}(window);var rotateElement=function(t,e){if(t){var a=_translate2.default.transformProperty;t.style[a]=t.style[a].replace(/rotateX\(.+?deg\)/gi,"")+(" rotateX("+e+"deg)")}},ITEM_HEIGHT=36,VISIBLE_ITEMS_ANGLE_MAP={3:-45,5:-20,7:-15};exports.default={name:"picker-slot",props:{values:{type:Array,"default":function(){return[]}},value:{},visibleItemCount:{type:Number,"default":5},valueKey:String,rotateEffect:{type:Boolean,"default":!1},divider:{type:Boolean,"default":!1},textAlign:{type:String,"default":"center"},flex:{},className:{},content:{}},data:function(){return{currentValue:this.value,mutatingValues:this.values,dragging:!1,animationFrameId:null}},mixins:[_emitter2.default],computed:{flexStyle:function(){return{flex:this.flex,"-webkit-box-flex":this.flex,"-moz-box-flex":this.flex,"-ms-flex":this.flex}},classNames:function(){var t="picker-slot-",e=[];this.rotateEffect&&e.push(t+"absolute");var a=this.textAlign||"center";return e.push(t+a),this.divider&&e.push(t+"divider"),this.className&&e.push(this.className),e.join(" ")},contentHeight:function(){return ITEM_HEIGHT*this.visibleItemCount},valueIndex:function(){return this.mutatingValues.indexOf(this.currentValue)},dragRange:function(){var t=this.mutatingValues,e=this.visibleItemCount;return[-ITEM_HEIGHT*(t.length-Math.ceil(e/2)),ITEM_HEIGHT*Math.floor(e/2)]}},methods:{value2Translate:function(t){var e=this.mutatingValues,a=e.indexOf(t),n=Math.floor(this.visibleItemCount/2);return-1!==a?(a-n)*-ITEM_HEIGHT:void 0},translate2Value:function(t){t=Math.round(t/ITEM_HEIGHT)*ITEM_HEIGHT;var e=-(t-Math.floor(this.visibleItemCount/2)*ITEM_HEIGHT)/ITEM_HEIGHT;return this.mutatingValues[e]},updateRotate:function(t,e){if(!this.divider){var a=this.dragRange,n=this.$refs.wrapper;e||(e=n.querySelectorAll(".picker-item")),void 0===t&&(t=_translate2.default.getElementTranslate(n).top);var i=Math.ceil(this.visibleItemCount/2),r=VISIBLE_ITEMS_ANGLE_MAP[this.visibleItemCount]||-20;[].forEach.call(e,function(e,n){var l=n*ITEM_HEIGHT,s=a[1]-t,u=l-s,o=u/ITEM_HEIGHT,d=r*o;d>180&&(d=180),-180>d&&(d=-180),rotateElement(e,d),Math.abs(o)>i?_index.addClass(e,"picker-item-far"):_index.removeClass(e,"picker-item-far")})}},planUpdateRotate:function(){var t=this,e=this.$refs.wrapper;cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame(function(){t.updateRotate()}),_index.once(e,_translate2.default.transitionEndProperty,function(){t.animationFrameId=null,cancelAnimationFrame(t.animationFrameId)})},initEvents:function(){var t,e,a,n=this,i=this.$refs.wrapper,r={};_draggable2.default(i,{start:function(t){cancelAnimationFrame(n.animationFrameId),n.animationFrameId=null,r={range:n.dragRange,start:new Date,startLeft:t.pageX,startTop:t.pageY,startTranslateTop:_translate2.default.getElementTranslate(i).top},a=i.querySelectorAll(".picker-item")},drag:function(l){n.dragging=!0,r.left=l.pageX,r.top=l.pageY;var s=r.top-r.startTop,u=r.startTranslateTop+s;_translate2.default.translateElement(i,null,u),t=u-e||u,e=u,n.rotateEffect&&n.updateRotate(e,a)},end:function(){n.dragging=!1;var e,a=7,l=_translate2.default.getElementTranslate(i).top,s=new Date-r.start;300>s&&(e=l+t*a);var u=r.range;n.$nextTick(function(){var t;t=e?Math.round(e/ITEM_HEIGHT)*ITEM_HEIGHT:Math.round(l/ITEM_HEIGHT)*ITEM_HEIGHT,t=Math.max(Math.min(t,u[1]),u[0]),_translate2.default.translateElement(i,null,t),n.currentValue=n.translate2Value(t),n.rotateEffect&&n.planUpdateRotate()}),r={}}})},doOnValueChange:function(){var t=this.currentValue,e=this.$refs.wrapper;_translate2.default.translateElement(e,null,this.value2Translate(t))},doOnValuesChange:function(){var t=this.$el,e=t.querySelectorAll(".picker-item");[].forEach.call(e,function(t,e){_translate2.default.translateElement(t,null,ITEM_HEIGHT*e)}),this.rotateEffect&&this.planUpdateRotate()}},mounted:function(){this.ready=!0,this.$emit("input",this.currentValue),this.divider||(this.initEvents(),this.doOnValueChange()),this.rotateEffect&&this.doOnValuesChange()},watch:{values:function(t){this.mutatingValues=t},mutatingValues:function(t){var e=this;-1===this.valueIndex&&(this.currentValue=(t||[])[0]),this.rotateEffect&&this.$nextTick(function(){e.doOnValuesChange()})},currentValue:function(t){this.doOnValueChange(),this.rotateEffect&&this.planUpdateRotate(),this.$emit("input",t),this.dispatch("picker","slotValueChange",this)}}},function(t){module&&module.exports&&(module.exports.template=t),exports&&exports.default&&(exports.default.template=t)}('<div class="picker-slot" :class="classNames" :style="flexStyle">\n  <div v-if="!divider" ref="wrapper" class="picker-slot-wrapper" :class="{ dragging: dragging }" :style="{ height: contentHeight + \'px\' }">\n    <div class="picker-item" v-for="itemValue in mutatingValues" :class="{ \'picker-selected\': itemValue === currentValue }">\n      {{ typeof itemValue === \'object\' &amp;&amp; itemValue[valueKey] ? itemValue[valueKey] : itemValue }}\n    </div>\n  </div>\n  <div v-if="divider">{{ content }}</div>\n</div>');

});

;/*!wap-kids:widget/picker/picker*/
define('wap-kids:widget/picker/picker', function(require, exports, module) {

  "use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var _pickerSlot=require("wap-kids:widget/picker/picker-slot"),_pickerSlot2=_interopRequireDefault(_pickerSlot);exports.default={name:"mt-picker",componentName:"picker",props:{slots:{type:Array},showToolbar:{type:Boolean,"default":!1},visibleItemCount:{type:Number,"default":5},valueKey:String,rotateEffect:{type:Boolean,"default":!1}},created:function(){this.$on("slotValueChange",this.slotValueChange);var t=this.slots||[];this.values=[];var e=this.values,l=0;t.forEach(function(t){t.divider||(t.valueIndex=l++,e[t.valueIndex]=(t.values||[])[t.defaultIndex||0])})},methods:{slotValueChange:function(){this.$emit("change",this,this.values)},getSlot:function(t){var e,l=this.slots||[],o=0,s=this.$children.filter(function(t){return"picker-slot"===t.$options.name});return l.forEach(function(l,i){l.divider||(t===o&&(e=s[i]),o++)}),e},getSlotValue:function(t){var e=this.getSlot(t);return e?e.value:null},setSlotValue:function(t,e){var l=this.getSlot(t);l&&(l.currentValue=e)},getSlotValues:function(t){var e=this.getSlot(t);return e?e.mutatingValues:null},setSlotValues:function(t,e){var l=this.getSlot(t);l&&(l.mutatingValues=e)},getValues:function(){return this.values},setValues:function(t){var e=this,l=this.slotCount;if(t=t||[],l!==t.length)throw new Error("values length is not equal slot count.");t.forEach(function(t,l){e.setSlotValue(l,t)})}},computed:{values:function t(){var e=this.slots||[],t=[];return e.forEach(function(e){e.divider||t.push(e.value)}),t},slotCount:function(){var t=this.slots||[],e=0;return t.forEach(function(t){t.divider||e++}),e}},components:{PickerSlot:_pickerSlot2.default}},function(t){module&&module.exports&&(module.exports.template=t),exports&&exports.default&&(exports.default.template=t)}('<div class="picker" :class="{ \'picker-3d\': rotateEffect }">\n  <div class="picker-toolbar" v-if="showToolbar"><slot></slot></div>\n  <div class="picker-items">\n    <picker-slot v-for="slot in slots" :valuekey="valueKey" :values="slot.values || []" :text-align="slot.textAlign || \'center\'" :visible-item-count="visibleItemCount" :class-name="slot.className" :flex="slot.flex" v-model="values[slot.valueIndex]" :rotate-effect="rotateEffect" :divider="slot.divider" :content="slot.content"></picker-slot>\n    <div class="picker-center-highlight"></div>\n  </div>\n</div>');

});

;/*!wap-kids:widget/picker/index*/
define("wap-kids:widget/picker/index",function(e,i,t){"use strict";function d(e){return e&&e.__esModule?e:{"default":e}}var r=e("wap-kids:widget/picker/picker"),n=d(r);t.exports=n.default});