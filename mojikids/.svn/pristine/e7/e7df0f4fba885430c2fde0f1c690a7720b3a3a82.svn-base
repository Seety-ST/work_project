<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="import" href="./g_head.tpl.htm?__inline">
    <title>
        日期选择器 范例
    </title>

</head>

<body>
    <link rel="import" href="./g_back.tpl.htm?__inline">
    <main role="main">
        <div id="page-container" class="page-container page-view">
            <mt-datetime-picker ref="picker1" type="date" v-model="value1" @confirm="confirm1"
            :start-date="start"
            :end-date="end"
            :cur-date="cur_date"

            >
            </mt-datetime-picker>

            <mt-datetime-picker ref="picker2" type="time" v-model="value2" @confirm="confirm2">
            </mt-datetime-picker>


            <button class="ui-button ui-button-block ui-button-100per ui-button-size-x ui-button-bg-ff6-has-active" @click="open('picker1')">
  				<span class="ui-button-content f14">年月日选择</span>
  			</button>
            <br>
                <button class="ui-button ui-button-block ui-button-100per ui-button-size-x ui-button-bg-ff6-has-active" @click="open('picker2')">
  				<span class="ui-button-content f14">时分选择</span>
  			</button>
            <br>


        </div>
    </main>

</body>

</html>
<link rel="import" href="./g_footer.tpl.htm?__inline">

<script type="text/javascript">
    (function() {

        // 详细文档
        // http://mint-ui.github.io/docs/#!/zh-cn2/datetime-picker

        var DatetimePicker = require('/modules/widget/datepicker/index')

        Vue.component(DatetimePicker.name, DatetimePicker);

        new Vue
        ({
            el: '#page-container',
            created: function() {

            },
            data: function() {
                return {
                    value1 : '',
                    value2 : '',
                    start : new Date(new Date().getFullYear() - 8, 0, 1),// 8年前算起
                    end : new Date(new Date().getFullYear()+1, 0, 31),
                    cur_date : '2012-12-14',// 设置选中日期
                    type : 'time',

                }
            },
            methods: {
                open: function(tag)
                {
                    var self = this;

                    self.$refs[tag].open();
                },
                /**
                 * 获取选中的值
                 * @param  {[type]} d [description]
                 * @return {[type]}   [description]
                 */
                confirm1 : function(d)
                {
                    // d ==> new Date()
                    console.log(format_time(d));
                },
                confirm2 : function(value)
                {
                    console.log(d);
                }
            }
        });

        /**
         * 简单格式化时间
         * @param  {[type]} nowDate [description]
         * @return {[type]}         [description]
         */
        function format_time(nowDate)
        {
            var str = nowDate.getFullYear() + "-"+ (nowDate.getMonth()+1) + "-" + nowDate.getDate();

            return str
        }
    })();
</script>
